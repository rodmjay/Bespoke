import{a as ue,b as _e}from"./chunk-Y6HZP4KD.js";import{a as G}from"./chunk-RSYUMYAF.js";import{a as ce,b as de}from"./chunk-AL4XRLEA.js";import{a as ae,b as se}from"./chunk-COXNR3KN.js";import{a as pe,b as me}from"./chunk-NMHADN5P.js";import{a as ne,h as oe,i as le,k as re}from"./chunk-IENZGI3C.js";import{d as Y}from"./chunk-JJQLEQOL.js";import{a as j,b as H,c as A,d as L}from"./chunk-LAJDMLHM.js";import{a as E,b as B}from"./chunk-MEZEMTYB.js";import{b as Z,d as ee,g as te,k as ie}from"./chunk-SMJIQ4E4.js";import{a as O,b as N}from"./chunk-3BQEJCHT.js";import{d as D,f as W}from"./chunk-QXZQXA5D.js";import{g as P,h as F}from"./chunk-TI2YGS5M.js";import{oa as R}from"./chunk-ZHGKNXMS.js";import{$b as z,Db as h,Fb as u,Gb as r,Jc as X,Ka as Q,Lc as k,Pa as c,Qb as M,Rb as w,Tb as V,Ua as x,Uc as I,Vb as b,Wb as v,Xb as y,Zb as T,aa as a,ab as S,ba as s,gb as C,ka as J,mc as K,ob as d,rb as U,xb as l,yb as p,zb as _}from"./chunk-DKCBYRU7.js";import{a as $,b as q}from"./chunk-GAL4ENT6.js";var Se=()=>({height:"250px"});function Ve(o,g){if(o&1&&_(0,"div",20),o&2){let e=r(2);d("innerHTML",e.content.message,Q)}}function ke(o,g){if(o&1){let e=h();l(0,"div",1)(1,"div",2)(2,"div",3)(3,"label",4),w(4,"To"),p(),l(5,"p-iconfield",5),_(6,"p-inputicon",6),l(7,"input",7),y("ngModelChange",function(t){a(e);let n=r();return v(n.content.from,t)||(n.content.from=t),s(t)}),p()()(),l(8,"div",3)(9,"label",8),w(10,"Subject"),p(),l(11,"p-iconfield",5),_(12,"p-inputicon",9),l(13,"input",10),y("ngModelChange",function(t){a(e);let n=r();return v(n.content.title,t)||(n.content.title=t),s(t)}),p()()(),C(14,Ve,1,1,"div",11),l(15,"div",12)(16,"span",13),u("click",function(){a(e);let t=r();return s(t.toggleMessage())}),_(17,"i",14),p(),l(18,"p-editor",15),y("ngModelChange",function(t){a(e);let n=r();return v(n.newMail.message,t)||(n.newMail.message=t),s(t)}),p()()(),l(19,"div",16),_(20,"button",17)(21,"button",18),l(22,"button",19),u("click",function(){a(e);let t=r();return s(t.sendMail())}),p()()()}if(o&2){let e=r();c(7),b("ngModel",e.content.from),c(6),b("ngModel",e.content.title),c(),d("ngIf",e.displayMessage),c(2),d("pTooltip",e.displayMessage?"Hide content":"Show content"),c(2),U(T(7,Se)),b("ngModel",e.newMail.message)}}var fe=(()=>{class o{messageService;mailService;newMail={id:"",to:"",email:"",image:"",title:"",message:"",date:"",important:!1,starred:!1,trash:!1,spam:!1,archived:!1,sent:!0};displayMessage=!1;content={};hide=new J;constructor(e,i){this.messageService=e,this.mailService=i}sendMail(){let{image:e,from:i,title:t}=this.content;this.newMail=q($({},this.newMail),{to:i,title:t,image:e}),this.mailService.onSend(this.newMail),this.messageService.add({severity:"success",summary:"Success",detail:"Mail sent"}),this.hide.emit()}toggleMessage(){this.displayMessage=!this.displayMessage}static \u0275fac=function(i){return new(i||o)(x(R),x(G))};static \u0275cmp=S({type:o,selectors:[["app-mail-reply"]],inputs:{content:"content"},outputs:{hide:"hide"},decls:1,vars:1,consts:[["class","p-0 m-0",4,"ngIf"],[1,"p-0","m-0"],[1,"bg-surface-0","dark:bg-surface-950","grid","grid-cols-12","grid-nogutter","flex-col","md:flex-row","gap-12","p-8","rounded"],[1,"col-span-6"],["for","to",1,"block","text-surface-900","dark:text-surface-0","font-semibold","mb-4"],["styleClass","w-full",2,"height","3.5rem"],["styleClass","pi pi-user",2,"left","1.5rem"],["id","to","type","text","pInputText","",1,"w-full","!pl-16","text-surface-900","dark:text-surface-0","font-semibold",2,"height","3.5rem",3,"ngModelChange","ngModel"],["for","Subject",1,"block","text-surface-900","dark:text-surface-0","font-semibold","mb-4"],["styleClass","pi pi-pencil",2,"left","1.5rem"],["id","subject","type","text","pInputText","","placeholder","Subject",1,"w-full","!pl-16","text-surface-900","dark:text-surface-0","font-semibold",2,"height","3.5rem",3,"ngModelChange","ngModel"],["class","col-span-12",3,"innerHTML",4,"ngIf"],[1,"col-span-12"],[1,"bg-surface-50","dark:bg-surface-950","cursor-pointer","rounded","px-2",3,"click","pTooltip"],[1,"pi","pi-ellipsis-h"],["styleClass","mt-4",3,"ngModelChange","ngModel"],[1,"flex","gap-x-4","justify-end","p-8","border-t","border-surface-200","dark:border-surface-700"],["pButton","","pRipple","","type","button","outlined","","icon","pi pi-image"],["pButton","","pRipple","","type","button","outlined","","icon","pi pi-paperclip"],["pButton","","pRipple","","type","button","icon","pi pi-send","label","Send",1,"h-12",3,"click"],[1,"col-span-12",3,"innerHTML"]],template:function(i,t){i&1&&C(0,ke,23,8,"div",0),i&2&&d("ngIf",t.content)},dependencies:[I,k,N,O,W,D,_e,ue,ie,Z,ee,te,H,j,L,A,B,E,F,P],encapsulation:2})}return o})();var Ie=()=>["from","title","message"],Re=()=>[10,20,30],Ee=(o,g)=>({"pi-star-fill":o,"pi-star":g}),Be=(o,g)=>({"pi-bookmark-fill":o,"pi-bookmark":g});function Pe(o,g){if(o&1){let e=h();l(0,"div",9)(1,"div",10),_(2,"p-tableHeaderCheckbox")(3,"button",11),l(4,"button",12),u("click",function(t){a(e);let n=M(6);return s(n.toggle(t))}),p(),_(5,"p-menu",13,3),p(),l(7,"p-iconfield"),_(8,"p-inputicon",14),l(9,"input",15),u("input",function(t){a(e);let n=r(),m=M(1);return s(n.onGlobalFilter(m,t))}),p()()()}if(o&2){let e=r(),i=M(1);c(5),d("model",e.menuItems)("appendTo",i)("popup",!0)}}function Fe(o,g){if(o&1){let e=h();l(0,"td",32)(1,"span",33),u("click",function(t){a(e);let n=r().$implicit,m=r();return s(m.onStar(t,n.id))})("touchend",function(t){a(e);let n=r().$implicit,m=r();return s(m.onStar(t,n.id))}),_(2,"i",34),p()()}if(o&2){let e=r().$implicit;c(2),d("ngClass",z(1,Ee,e.starred,!e.starred))}}function De(o,g){if(o&1){let e=h();l(0,"td",32)(1,"span",33),u("click",function(t){a(e);let n=r().$implicit,m=r();return s(m.onBookmark(t,n.id))})("touchend",function(t){a(e);let n=r().$implicit,m=r();return s(m.onBookmark(t,n.id))}),_(2,"i",34),p()()}if(o&2){let e=r().$implicit;c(2),d("ngClass",z(1,Be,e.important,!e.important))}}function We(o,g){if(o&1){let e=h();l(0,"tr",16),u("mouseenter",function(t){a(e);let n=M(15),m=M(18),f=r();return s(f.toggleOptions(t,m,n))})("mouseleave",function(t){a(e);let n=M(15),m=M(18),f=r();return s(f.toggleOptions(t,m,n))})("click",function(){let t=a(e).$implicit,n=r();return s(n.onRowSelect(t.id))}),l(1,"td",17)(2,"p-tableCheckbox",18),u("click",function(t){return a(e),s(t.stopPropagation())})("touchend",function(t){return a(e),s(t.stopPropagation())}),p()(),C(3,Fe,3,4,"td",19)(4,De,3,4,"td",19),l(5,"td",20),_(6,"p-avatar",21),p(),l(7,"td",22),w(8),p(),l(9,"td",23)(10,"span",24),w(11),p()(),l(12,"td",25)(13,"div",26)(14,"span",27,4),w(16),p(),l(17,"div",28,5)(19,"button",29),u("click",function(t){let n=a(e).$implicit,m=r();return s(m.onArchive(t,n.id))}),p(),l(20,"button",30),u("click",function(t){let n=a(e).$implicit,m=r();return s(m.onReply(t,n))}),p(),l(21,"button",31),u("click",function(t){let n=a(e).$implicit,m=r();return s(m.onTrash(t,n))}),p()()()()()}if(o&2){let e=g.$implicit;c(2),d("value",e),c(),d("ngIf",!e.trash&&!e.spam),c(),d("ngIf",!e.trash&&!e.spam),c(2),d("image",e.image?"/demo/images/avatar/"+e.image:"assets/layout/images/avatar.png"),c(2),V(" ",e.from||e.to," "),c(3),V(" ",e.title," "),c(5),V(" ",e.date," ")}}var ht=(()=>{class o{router;mailService;messageService;mails;menuItems=[];selectedMails=[];mail={};dialogVisible=!1;constructor(e,i,t){this.router=e,this.mailService=i,this.messageService=t}ngOnInit(){this.menuItems=[{label:"Archive",icon:"pi pi-fw pi-file",command:()=>this.onArchiveMultiple()},{label:"Spam",icon:"pi pi-fw pi-ban",command:()=>this.onSpamMultiple()},{label:"Delete",icon:"pi pi-fw pi-trash",command:()=>this.onDeleteMultiple()}]}toggleOptions(e,i,t){e.type==="mouseenter"?(i.style.display="flex",t.style.display="none"):(i.style.display="none",t.style.display="flex")}onRowSelect(e){this.router.navigate(["/apps/mail/detail/",e])}onStar(e,i){e.stopPropagation(),this.mailService.onStar(i)}onArchive(e,i){e.stopPropagation(),this.mailService.onArchive(i),this.messageService.add({severity:"info",summary:"Info",detail:"Mail archived",life:3e3})}onBookmark(e,i){e.stopPropagation(),this.mailService.onBookmark(i)}onDelete(e){this.mailService.onDelete(e),this.messageService.add({severity:"info",summary:"Info",detail:"Mail deleted",life:3e3})}onDeleteMultiple(){this.selectedMails&&this.selectedMails.length>0&&(this.mailService.onDeleteMultiple(this.selectedMails),this.messageService.add({severity:"info",summary:"Info",detail:"Mails deleted",life:3e3}))}onSpamMultiple(){this.selectedMails&&this.selectedMails.length>0&&(this.mailService.onSpamMultiple(this.selectedMails),this.messageService.add({severity:"info",summary:"Info",detail:"Moved to spam",life:3e3}))}onArchiveMultiple(){this.selectedMails&&this.selectedMails.length>0&&(this.mailService.onArchiveMultiple(this.selectedMails),this.messageService.add({severity:"info",summary:"Info",detail:"Moved to archive",life:3e3}))}onTrash(e,i){e.stopPropagation(),i.trash&&this.onDelete(i.id),this.mailService.onTrash(i.id)}onReply(e,i){e.stopPropagation(),this.mail=i,this.dialogVisible=!0}onGlobalFilter(e,i){e.filterGlobal(i.target.value,"contains")}static \u0275fac=function(i){return new(i||o)(x(Y),x(G),x(R))};static \u0275cmp=S({type:o,selectors:[["app-mail-table"]],inputs:{mails:"mails"},decls:8,vars:13,consts:[["dt",""],["caption",""],["body",""],["menu",""],["date",""],["options",""],["responsiveLayout","scroll","selectionMode","multiple","dataKey","id",3,"selectionChange","value","rows","globalFilterFields","paginator","rowsPerPageOptions","selection","rowHover"],["header","New Message","styleClass","mx-4 sm:mx-0 sm:w-full md:w-8/12 lg:w-6/12","contentStyleClass","rounded-b border-t border-surface-200 dark:border-surface-700 p-0",3,"visibleChange","onHide","visible","closable","modal"],[3,"hide","content"],[1,"flex","flex-wrap","items-center","justify-between","gap-3"],[1,"flex","gap-2","items-center"],["pButton","","pRipple","","type","button","icon","pi pi-refresh","rounded","","text","","plain","",1,"ml-4"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v","rounded","","text","","plain","",1,"ml-3",3,"click"],[3,"model","appendTo","popup"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search Mail",1,"w-full","sm:w-auto",3,"input"],[1,"cursor-pointer",3,"mouseenter","mouseleave","click"],[1,"pl-3",2,"width","4rem"],[3,"click","touchend","value"],["style","width: 4rem",4,"ngIf"],[2,"min-width","4rem"],[3,"image"],[1,"text-900","font-semibold",2,"min-width","12rem"],[2,"min-width","12rem"],[1,"font-medium","white-space-nowrap","overflow-hidden","text-overflow-ellipsis","block",2,"max-width","30rem"],[2,"width","12rem"],[1,"flex","justify-content-end","w-full","px-0"],[1,"text-700","font-semibold","white-space-nowrap"],[2,"display","none"],["pButton","","pRipple","","icon","pi pi-inbox","pTooltip","Archive","tooltipPosition","top","type","button",1,"h-8","w-8","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-reply","severity","secondary","pTooltip","Reply","tooltipPosition","top","type","button",1,"h-8","w-8","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash","severity","danger","pTooltip","Trash","tooltipPosition","top","type","button",1,"h-8","w-8rem",3,"click"],[2,"width","4rem"],[1,"cursor-pointer",3,"click","touchend"],[1,"pi","pi-fw","text-xl",3,"ngClass"]],template:function(i,t){if(i&1){let n=h();l(0,"p-table",6,0),y("selectionChange",function(f){return a(n),v(t.selectedMails,f)||(t.selectedMails=f),s(f)}),C(2,Pe,10,3,"ng-template",null,1,K)(4,We,22,7,"ng-template",null,2,K),p(),l(6,"p-dialog",7),y("visibleChange",function(f){return a(n),v(t.dialogVisible,f)||(t.dialogVisible=f),s(f)}),u("onHide",function(){return a(n),s(t.dialogVisible=!1)}),l(7,"app-mail-reply",8),u("hide",function(){return a(n),s(t.dialogVisible=!1)}),p()()}i&2&&(d("value",t.mails)("rows",10)("globalFilterFields",T(11,Ie))("paginator",!0)("rowsPerPageOptions",T(12,Re)),b("selection",t.selectedMails),d("rowHover",!0),c(6),b("visible",t.dialogVisible),d("closable",!0)("modal",!0),c(),d("content",t.mail))},dependencies:[re,ne,oe,le,W,D,I,X,k,de,ce,F,P,se,ae,me,pe,fe,H,j,L,A,B,E,N,O],encapsulation:2})}return o})();export{ht as a};
