import{a as h}from"./chunk-RSYUMYAF.js";import{a as T,c as D,d as O,e as B,f as N,j as f}from"./chunk-JJQLEQOL.js";import{a as H,b as J}from"./chunk-GXMOM5BD.js";import"./chunk-PAEO5PSF.js";import"./chunk-MLPLYTXL.js";import"./chunk-DUGBXOMB.js";import"./chunk-BDXJXXVS.js";import"./chunk-5ITMLF3G.js";import"./chunk-BODZH67C.js";import{d as z,f as G}from"./chunk-QXZQXA5D.js";import{g as P,h as q}from"./chunk-TI2YGS5M.js";import"./chunk-WCGJ44IN.js";import{oa as $}from"./chunk-ZHGKNXMS.js";import{$b as V,Gb as d,Jc as I,Kc as j,Lc as A,Pa as o,Rb as v,Sb as _,Tb as F,Ua as g,Uc as E,Yb as R,_b as c,ab as u,gb as x,ob as s,sb as w,x as M,xb as a,yb as p,zb as l}from"./chunk-DKCBYRU7.js";import"./chunk-GAL4ENT6.js";var X=(t,m)=>({"bg-primary":t,"hover:surface-hover":m}),K=t=>({"text-white dark:text-surface-900":t}),Y=t=>({"dark:bg-primary-900 dark:text-white":t});function Z(t,m){if(t&1&&(a(0,"span",8),v(1),p()),t&2){let i=d().$implicit,r=d();s("ngClass",c(2,Y,r.url===i.routerLink)),o(),F(" ",i.badge," ")}}function ee(t,m){if(t&1&&(a(0,"li",4),l(1,"i",5),a(2,"span",6),v(3),p(),x(4,Z,2,4,"span",7),p()),t&2){let i=m.$implicit,r=d();s("routerLinkActive","bg-primary")("routerLink",i==null?null:i.routerLink)("ngClass",V(9,X,r.url===i.routerLink,r.url!==i.routerLink)),o(),w(i.icon||""),s("ngClass",c(12,K,r.url===i.routerLink)),o(),s("ngClass",c(14,K,r.url===i.routerLink)),o(),_(i.label),o(),s("ngIf",i.badge)}}var Q=(()=>{class t{router;mailService;items=[];badgeValues;mailSubscription;routeSubscription;url="";constructor(i,r){this.router=i,this.mailService=r,this.url=this.router.url,this.mailSubscription=this.mailService.mails$.subscribe(n=>this.getBadgeValues(n)),this.routeSubscription=this.router.events.pipe(M(n=>n instanceof T)).subscribe(n=>{this.url=n.url})}getBadgeValues(i){let r=[],n=[],k=[],y=[],S=[],C=[],L=[];for(let b=0;b<i.length;b++){let e=i[b];!e.archived&&!e.trash&&!e.spam&&!e.hasOwnProperty("sent")&&r.push(e),e.starred&&!e.archived&&!e.trash&&n.push(e),e.spam&&!e.archived&&!e.trash&&k.push(e),e.important&&!e.archived&&!e.trash&&y.push(e),e.archived&&!e.trash&&S.push(e),e.trash&&C.push(e),e.sent&&!e.archived&&!e.trash&&L.push(e)}this.badgeValues={inbox:r.length,starred:n.length,spam:k.length,important:y.length,archived:S.length,trash:C.length,sent:L.length},this.updateSidebar()}updateSidebar(){this.items=[{label:"Inbox",icon:"pi pi-inbox",badge:this.badgeValues.inbox,routerLink:"/apps/mail/inbox"},{label:"Starred",icon:"pi pi-star",badge:this.badgeValues.starred,routerLink:"/apps/mail/starred"},{label:"Spam",icon:"pi pi-ban",badge:this.badgeValues.spam,routerLink:"/apps/mail/spam"},{label:"Important",icon:"pi pi-bookmark",badge:this.badgeValues.important,routerLink:"/apps/mail/important"},{label:"Sent",icon:"pi pi-send",badge:this.badgeValues.sent,routerLink:"/apps/mail/sent"},{label:"Archived",icon:"pi pi-book",badge:this.badgeValues.archived,routerLink:"/apps/mail/archived"},{label:"Trash",icon:"pi pi-trash",badge:this.badgeValues.trash,routerLink:"/apps/mail/trash"}]}ngOnDestroy(){this.mailSubscription.unsubscribe(),this.routeSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)(g(O),g(h))};static \u0275cmp=u({type:t,selectors:[["app-mail-sidebar"]],decls:5,vars:2,consts:[["pButton","","pRipple","","label","Compose New","outlined","",1,"mb-8","w-full",3,"routerLink"],[1,"overflow-auto"],[1,"flex","flex-row","md:flex-col","gap-1","md:gap-2","list-none","m-0","p-0","overflow-auto"],["pRipple","","class","cursor-pointer select-none p-4 duration-150 rounded flex items-center justify-center md:justify-start md:flex-1 flex-auto",3,"routerLinkActive","routerLink","ngClass",4,"ngFor","ngForOf"],["pRipple","",1,"cursor-pointer","select-none","p-4","duration-150","rounded","flex","items-center","justify-center","md:justify-start","md:flex-1","flex-auto",3,"routerLinkActive","routerLink","ngClass"],[1,"md:mr-4","text-surface-600","dark:text-surface-200","duration-150","text-lg",3,"ngClass"],[1,"text-surface-900","dark:text-surface-0","font-medium","hidden","md:inline",3,"ngClass"],["class","ml-auto text-sm font-semibold bg-primary-50 text-primary-900 px-2 py-1 hidden md:inline-flex items-center justify-center","style","border-radius: 50%; min-width: 23px; height: auto; aspect-ratio: 1; padding: 0 6px;",3,"ngClass",4,"ngIf"],[1,"ml-auto","text-sm","font-semibold","bg-primary-50","text-primary-900","px-2","py-1","hidden","md:inline-flex","items-center","justify-center",2,"border-radius","50%","min-width","23px","height","auto","aspect-ratio","1","padding","0 6px",3,"ngClass"]],template:function(r,n){r&1&&(a(0,"div"),l(1,"button",0),a(2,"div",1)(3,"ul",2),x(4,ee,5,16,"li",3),p()()()),r&2&&(o(),s("routerLink","/apps/mail/compose/"),o(3),s("ngForOf",n.items))},dependencies:[G,z,q,P,f,B,N,E,I,j,A],encapsulation:2})}return t})();var ge=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=u({type:t,selectors:[["ng-component"]],features:[R([$,h])],decls:7,vars:0,consts:[[1,"card"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"w-full","md:w-3/12","xl:w-2/12","xl:p-4"],[1,"md:w-9/12","xl:w-10/12","xl:p-4"]],template:function(r,n){r&1&&(l(0,"p-toast"),a(1,"div",0)(2,"div",1)(3,"div",2),l(4,"app-mail-sidebar"),p(),a(5,"div",3),l(6,"router-outlet"),p()()())},dependencies:[J,H,Q,f,D],encapsulation:2})}return t})();export{ge as MailAppComponent};
