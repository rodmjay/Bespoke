import{a as ie,b as re}from"./chunk-EAWOCYS6.js";import{b as K}from"./chunk-DUGBXOMB.js";import{a as Y,b as Z,c as ee,d as te}from"./chunk-LAJDMLHM.js";import{a as A,b as N}from"./chunk-MEZEMTYB.js";import{b as D,d as V,g as j,k as O}from"./chunk-SMJIQ4E4.js";import"./chunk-BODZH67C.js";import{d as Q,f as X}from"./chunk-QXZQXA5D.js";import"./chunk-TI2YGS5M.js";import"./chunk-WCGJ44IN.js";import"./chunk-ZHGKNXMS.js";import{Db as P,Fb as u,Gb as v,Jb as k,Jc as B,Kc as F,La as S,Lc as G,Pa as o,Q as z,Qb as I,Rb as c,Sb as f,Tb as R,Ua as g,Uc as C,V as q,Vb as M,Wb as E,Xb as T,Yb as H,aa as _,ab as x,ac as U,ba as w,g as $,gb as b,mc as J,ob as s,xb as n,yb as a,zb as l}from"./chunk-DKCBYRU7.js";import"./chunk-GAL4ENT6.js";var p=(()=>{class t{http;_activeUser={id:1,name:"Ioni Bowcher",image:"ionibowcher.png",status:"active",messages:[{text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit",ownerId:1,createdAt:1652646338240},{text:"Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua",ownerId:1,createdAt:1652646368718},{text:"Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua",ownerId:123,createdAt:1652646368718}],lastSeen:"2d"};activeUser=new $(this._activeUser);activeUser$=this.activeUser.asObservable();constructor(e){this.http=e}getChatData(){return this.http.get("/demo/data/chat.json").toPromise().then(e=>e.data).then(e=>e)}changeActiveChat(e){this._activeUser=e,this.activeUser.next(e)}sendMessage(e){this._activeUser.messages.push(e),this.activeUser.next(this._activeUser)}static \u0275fac=function(i){return new(i||t)(q(K))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var ce=(t,d,e)=>({"bg-green-400":t,"bg-red-400":d,"bg-yellow-400":e}),ae=(()=>{class t{chatService;user;lastMessage;constructor(e){this.chatService=e}ngOnInit(){let e=this.user.messages.filter(i=>i.ownerId!==123);this.lastMessage=e[e.length-1]}changeView(e){this.chatService.changeActiveChat(e)}static \u0275fac=function(i){return new(i||t)(g(p))};static \u0275cmp=x({type:t,selectors:[["app-user-card"]],hostAttrs:[1,"flex-shrink-0"],inputs:{user:"user"},decls:12,vars:10,consts:[["tabindex","0",1,"flex","flex-nowrap","justify-between","items-center","border","border-surface-200","dark:border-surface-700","rounded","p-4","cursor-pointer","select-none","hover:bg-surface-100","dark:hover:bg-surface-800","transition-colors","duration-150",3,"keydown.enter","click"],[1,"flex","items-center","flex-shrink-0"],[1,"relative","md:mr-4","flex-shrink-0"],["alt","user",1,"w-12","h-12","rounded-full","shadow-lg",3,"src"],[1,"w-4","h-4","rounded-full","border-2","border-surface-200","dark:border-surface-700","absolute",2,"bottom","2px","right","2px",3,"ngClass"],[1,"flex-col","hidden","md:flex"],[1,"text-surface-900","dark:text-surface-0","font-semibold","block"],[1,"block","text-surface-600","dark:text-surface-200","text-ellipsis","overflow-hidden","whitespace-nowrap","w-40","text-sm"],[1,"text-surface-700","dark:text-surface-100","font-semibold","ml-auto","hidden","md:inline"]],template:function(i,r){i&1&&(n(0,"div",0),u("keydown.enter",function(){return r.changeView(r.user)})("click",function(){return r.changeView(r.user)}),n(1,"div",1)(2,"div",2),l(3,"img",3)(4,"span",4),a(),n(5,"div",5)(6,"span",6),c(7),a(),n(8,"span",7),c(9),a()()(),n(10,"span",8),c(11),a()()),i&2&&(o(3),k("src","/demo/images/avatar/",r.user.image,"",S),o(),s("ngClass",U(6,ce,r.user.status==="active",r.user.status==="busy",r.user.status==="away")),o(3),f(r.user.name),o(2),f(r.lastMessage.text),o(2),f(r.user.lastSeen))},dependencies:[C,B],encapsulation:2})}return t})();function pe(t,d){if(t&1&&l(0,"app-user-card",9),t&2){let e=d.$implicit;s("user",e)}}var oe=(()=>{class t{chatService;searchValue="";users=[];filteredUsers=[];constructor(e){this.chatService=e}ngOnInit(){this.chatService.getChatData().then(e=>{this.users=e,this.filteredUsers=this.users})}filter(){let e=[];for(let i=0;i<this.users.length;i++){let r=this.users[i];r.name.toLowerCase().indexOf(this.searchValue.toLowerCase())==0&&e.push(r)}this.filteredUsers=[...e]}static \u0275fac=function(i){return new(i||t)(g(p))};static \u0275cmp=x({type:t,selectors:[["app-chat-sidebar"]],decls:10,vars:2,consts:[[1,"flex","flex-col","items-center","border-b","border-surface-200","dark:border-surface-700","p-12"],["src","/demo/images/avatar/circle/avatar-f-1@2x.png","alt","Asiya Javayant",1,"w-24","h-24","rounded-full","shadow-lg"],[1,"text-surface-900","dark:text-surface-0","text-xl","font-semibold","mt-6"],[1,"w-full","flex","gap-y-6","flex-col","border-surface-200","dark:border-surface-700","p-6"],[1,"w-full"],[1,"pi","pi-search"],["id","search","type","text","pInputText","","placeholder","Search",1,"w-full",3,"ngModelChange","input","ngModel"],[1,"flex","flex-row","gap-6","md:flex-col","overflow-auto"],[3,"user",4,"ngFor","ngForOf"],[3,"user"]],template:function(i,r){i&1&&(n(0,"div",0),l(1,"img",1),n(2,"span",2),c(3,"Asiya Javayant"),a()(),n(4,"div",3)(5,"p-iconfield",4),l(6,"p-inputicon",5),n(7,"input",6),T("ngModelChange",function(h){return E(r.searchValue,h)||(r.searchValue=h),h}),u("input",function(){return r.filter()}),a()(),n(8,"div",7),b(9,pe,1,1,"app-user-card",8),a()()),i&2&&(o(7),M("ngModel",r.searchValue),o(2),s("ngForOf",r.filteredUsers))},dependencies:[C,F,Z,Y,te,ee,O,D,V,j,ae,N,A],encapsulation:2})}return t})();var ue=(t,d,e)=>({"bg-green-400":t,"bg-red-400":d,"bg-yellow-400":e});function fe(t,d){if(t&1&&(n(0,"div",23)(1,"div",24),l(2,"img",25),a(),n(3,"div",26)(4,"p",27),c(5),a(),n(6,"span",28),c(7),a(),n(8,"p",29),c(9),l(10,"i",30),a()()()),t&2){let e=v().$implicit,i=v();o(2),k("src","/demo/images/avatar/",i.user.image,"",S),o(3),R(" ",i.user.name," "),o(2),f(e.text),o(2),f(i.parseDate(e.createdAt))}}function he(t,d){if(t&1&&(n(0,"div",23)(1,"div",31)(2,"span",32),c(3),a(),n(4,"p",29),c(5),l(6,"i",30),a()()()),t&2){let e=v().$implicit,i=v();o(3),f(e.text),o(2),R(" ",i.parseDate(e.createdAt)," ")}}function ge(t,d){if(t&1&&(n(0,"div"),b(1,fe,11,5,"div",22)(2,he,7,2,"div",22),a()),t&2){let e=d.$implicit,i=v();o(),s("ngIf",e.ownerId!==123),o(),s("ngIf",e.ownerId===i.defaultUserId)}}function xe(t,d){if(t&1){let e=P();n(0,"button",34),u("click",function(){let r=_(e).$implicit,m=v(2);return I(23).hide(),w(m.onEmojiSelect(r))}),a()}if(t&2){let e=d.$implicit;s("label",e)}}function ve(t,d){if(t&1&&b(0,xe,1,1,"button",33),t&2){let e=v();s("ngForOf",e.emojis)}}var se=(()=>{class t{chatService;defaultUserId=123;message;textContent="";uploadedFiles=[];emojis=["\u{1F600}","\u{1F603}","\u{1F604}","\u{1F601}","\u{1F606}","\u{1F605}","\u{1F602}","\u{1F923}","\u{1F607}","\u{1F609}","\u{1F60A}","\u{1F642}","\u{1F643}","\u{1F60B}","\u{1F60C}","\u{1F60D}","\u{1F970}","\u{1F618}","\u{1F617}","\u{1F619}","\u{1F61A}","\u{1F92A}","\u{1F61C}","\u{1F61D}","\u{1F61B}","\u{1F911}","\u{1F60E}","\u{1F913}","\u{1F9D0}","\u{1F920}","\u{1F973}","\u{1F917}","\u{1F921}","\u{1F60F}","\u{1F636}","\u{1F610}","\u{1F611}","\u{1F612}","\u{1F644}","\u{1F928}","\u{1F914}","\u{1F92B}","\u{1F92D}","\u{1F925}","\u{1F633}","\u{1F61E}","\u{1F61F}","\u{1F620}","\u{1F621}","\u{1F92C}","\u{1F614}","\u{1F61F}","\u{1F620}","\u{1F621}","\u{1F92C}","\u{1F614}","\u{1F615}","\u{1F641}","\u{1F62C}","\u{1F97A}","\u{1F623}","\u{1F616}","\u{1F62B}","\u{1F629}","\u{1F971}","\u{1F624}","\u{1F62E}","\u{1F631}","\u{1F628}","\u{1F630}","\u{1F62F}","\u{1F626}","\u{1F627}","\u{1F622}","\u{1F625}","\u{1F62A}","\u{1F924}"];user;constructor(e){this.chatService=e}setMessage(){if(this.user){let e=this.user.messages.filter(i=>i.ownerId!==this.defaultUserId);this.message=e[e.length-1]}}ngOnInit(){this.setMessage()}sendMessage(){if(!(this.textContent==""||this.textContent===" ")){let e={text:this.textContent,ownerId:123,createdAt:new Date().getTime()};this.chatService.sendMessage(e),this.textContent=""}}onEmojiSelect(e){this.textContent+=e}parseDate(e){return new Date(e).toTimeString().split(":").slice(0,2).join(":")}static \u0275fac=function(i){return new(i||t)(g(p))};static \u0275cmp=x({type:t,selectors:[["app-chat-box"]],inputs:{user:"user"},decls:26,vars:11,consts:[["chatWindow",""],["op",""],["content",""],[1,"flex","flex-col","h-full"],[1,"flex","items-center","border-b","border-surface-200","dark:border-surface-700","p-4","lg:p-12"],[1,"relative","flex","items-center","mr-4"],["alt","user.name",1,"w-16","h-16","rounded-full","shadow-lg",3,"src"],[1,"w-4","h-4","rounded-full","border-2","border-surface-200","dark:border-surface-700","absolute","bottom-0","right-0",3,"ngClass"],[1,"mr-2"],[1,"text-surface-900","dark:text-surface-0","font-semibold","block"],[1,"text-surface-700","dark:text-surface-100"],[1,"flex","items-center","ml-auto"],["pButton","","icon","pi pi-phone","outlined","","severity","secondary","rounded","",1,"mr-4"],["pButton","","icon","pi pi-ellipsis-v","outlined","","severity","secondary","rounded",""],[1,"user-message-container","p-4","md:px-6","lg:px-12","lg:py-6","mt-2","overflow-y-auto",2,"max-height","53vh",3,"scrollTop"],[4,"ngFor","ngForOf"],[1,"p-4","md:p-6","lg:p-12","flex","flex-col","sm:flex-row","items-center","mt-auto","border-t","border-surface-200","dark:border-surface-700","gap-4"],["id","message","type","text","pInputText","","placeholder","Type a message",1,"flex-1","w-full","sm:w-auto","rounded",3,"ngModelChange","keydown.enter","ngModel"],[1,"flex","w-full","sm:w-auto","gap-4"],["pRipple","","severity","secondary",1,"w-full","sm:w-auto","justify-center","text-xl",3,"click"],["pButton","","pRipple","","label","Send","icon","pi pi-send",1,"w-full","sm:w-auto",3,"click"],["styleClass","w-full sm:w-30rem"],["class","grid gap-4 grid-nogutter mb-6",4,"ngIf"],[1,"grid","gap-4","grid-nogutter","mb-6"],[1,"mr-4","mt-1"],["alt","user.name",1,"w-12","h-12","rounded-full","shadow-lg",3,"src"],[1,"col","mt-4"],[1,"text-surface-900","dark:text-surface-0","font-semibold","mb-4"],[1,"text-surface-700","dark:text-surface-100","inline-block","font-medium","border","border-surface-200","dark:border-surface-700","p-4","whitespace-normal","rounded",2,"word-break","break-word","max-width","80%"],[1,"text-surface-700","dark:text-surface-100","mt-4"],[1,"pi","pi-check","ml-2","text-green-400"],[1,"col","mt-4","text-right"],[1,"inline-block","text-left","font-medium","border","border-surface-200","dark:border-surface-700","bg-primary-100","text-primary-900","p-4","whitespace-normal","rounded",2,"word-break","break-word","max-width","80%"],["pButton","","pRipple","","type","button","class","p-2 text-2xl","text","",3,"label","click",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","text","",1,"p-2","text-2xl",3,"click","label"]],template:function(i,r){if(i&1){let m=P();n(0,"div",3)(1,"div",4)(2,"div",5),l(3,"img",6)(4,"span",7),a(),n(5,"div",8)(6,"span",9),c(7),a(),n(8,"span",10),c(9,"Last active 1 hour ago"),a()(),n(10,"div",11),l(11,"button",12)(12,"button",13),a()(),n(13,"div",14,0),b(15,ge,3,2,"div",15),a(),n(16,"div",16)(17,"input",17),T("ngModelChange",function(y){return _(m),E(r.textContent,y)||(r.textContent=y),w(y)}),u("keydown.enter",function(){return _(m),w(r.sendMessage())}),a(),n(18,"div",18)(19,"button",19),u("click",function(y){_(m);let le=I(23);return w(le.toggle(y))}),c(20,"\u{1F600}"),a(),n(21,"button",20),u("click",function(){return _(m),w(r.sendMessage())}),a()()()(),n(22,"p-popover",21,1),b(24,ve,1,1,"ng-template",null,2,J),a()}if(i&2){let m=I(14);o(3),k("src","/demo/images/avatar/",r.user.image,"",S),o(),s("ngClass",U(7,ue,r.user.status==="active",r.user.status==="busy",r.user.status==="away")),o(3),f(r.user.name),o(6),s("scrollTop",m.scrollHeight),o(2),s("ngForOf",r.user.messages),o(2),M("ngModel",r.textContent)}},dependencies:[O,D,V,j,C,B,F,G,re,ie,N,A,X,Q],encapsulation:2})}return t})();var $e=(()=>{class t{chatService;subscription;activeUser;constructor(e){this.chatService=e,this.subscription=this.chatService.activeUser$.subscribe(i=>this.activeUser=i)}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(g(p))};static \u0275cmp=x({type:t,selectors:[["app-chat"]],features:[H([p])],decls:5,vars:1,consts:[[1,"flex","flex-col","md:flex-row","gap-8",2,"min-height","81vh"],[1,"md:w-[25rem]","card","!p-0"],[1,"flex-1","card","!p-0"],[3,"user"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"div",1),l(2,"app-chat-sidebar"),a(),n(3,"div",2),l(4,"app-chat-box",3),a()()),i&2&&(o(4),s("user",r.activeUser))},dependencies:[oe,se],encapsulation:2})}return t})();export{$e as Chat};
