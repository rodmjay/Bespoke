import{a as oe,b as le}from"./chunk-NMHADN5P.js";import{a as H,d as J,e as K,k as W}from"./chunk-IENZGI3C.js";import"./chunk-KZO2A2S5.js";import"./chunk-5QABPFLC.js";import"./chunk-UDQJOS2S.js";import"./chunk-BQWXN4DA.js";import"./chunk-OBQOVGLQ.js";import"./chunk-IGU7SFJN.js";import"./chunk-LAKTUHSI.js";import"./chunk-SGUPKBVV.js";import"./chunk-P63N2URC.js";import"./chunk-2AJWNTIY.js";import"./chunk-SLHJZJNW.js";import"./chunk-WNUESBZL.js";import"./chunk-JJQLEQOL.js";import"./chunk-BIL3QBLO.js";import{a as Z,b as ee}from"./chunk-LUYTQDXF.js";import{a as q}from"./chunk-DWXSBU6A.js";import{a as te,b as ie}from"./chunk-6RLAFWZQ.js";import"./chunk-ZLFPCGC4.js";import{a as ne,b as re}from"./chunk-GXMOM5BD.js";import"./chunk-5UKNK7DM.js";import"./chunk-PAEO5PSF.js";import"./chunk-THVSKX6G.js";import"./chunk-MLPLYTXL.js";import{b as Q}from"./chunk-DUGBXOMB.js";import"./chunk-RO6F6Z3R.js";import"./chunk-AGR62YLL.js";import"./chunk-LAJDMLHM.js";import"./chunk-MEZEMTYB.js";import"./chunk-SMJIQ4E4.js";import"./chunk-YUUY53IN.js";import"./chunk-3BQEJCHT.js";import"./chunk-BDXJXXVS.js";import"./chunk-5ITMLF3G.js";import"./chunk-BODZH67C.js";import{c as X,d as V,f as Y}from"./chunk-QXZQXA5D.js";import{g as T}from"./chunk-TI2YGS5M.js";import"./chunk-WCGJ44IN.js";import{oa as M,sa as G}from"./chunk-ZHGKNXMS.js";import{Db as y,Fb as g,Gb as f,Jc as L,Kc as U,La as O,Lb as D,Lc as N,Mb as z,Nb as $,Pa as l,Q as B,Qb as E,Rb as p,Sb as x,Ua as S,Uc as I,V as P,Yb as F,Zb as w,aa as c,ab as C,ba as u,gb as v,mc as A,ob as m,rb as b,sb as R,xb as t,yb as i,zb as s}from"./chunk-DKCBYRU7.js";import"./chunk-GAL4ENT6.js";var k=(()=>{class n{http;constructor(e){this.http=e}getFiles(){return this.http.get("/demo/data/file-management.json").toPromise().then(e=>e.files).then(e=>e)}getMetrics(){return this.http.get("/demo/data/file-management.json").toPromise().then(e=>e.metrics).then(e=>e)}getFoldersSmall(){return this.http.get("/demo/data/file-management.json").toPromise().then(e=>e.folders_small).then(e=>e)}getFoldersLarge(){return this.http.get("/demo/data/file-management.json").toPromise().then(e=>e.folders_large).then(e=>e)}static \u0275fac=function(r){return new(r||n)(P(Q))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var he=["buttonEl"],ye=()=>({cursor:"copy"}),Se=()=>({padding:"1px"});function be(n,d){n&1&&(t(0,"div",9),s(1,"i",10),t(2,"span",11),p(3,"Upload Files"),i(),t(4,"span",12),p(5,"Drop or select files"),i()())}function we(n,d){if(n&1){let e=y();t(0,"div",15),g("mouseenter",function(){let o=c(e).$implicit,a=f(3);return u(a.onImageMouseOver(o))})("mouseleave",function(){let o=c(e).$implicit,a=f(3);return u(a.onImageMouseLeave(o))}),t(1,"div",16),s(2,"img",17),t(3,"button",18,2),g("click",function(o){let a=c(e).$implicit,_=f(3);return u(_.removeImage(o,a))}),s(5,"i",19),i()()()}if(n&2){let e=d.$implicit;l(),b(w(5,Se)),l(),m("src",e.objectURL,O)("alt",e.name),l(),m("id",e.name)}}function Ce(n,d){if(n&1&&(t(0,"div",13),v(1,we,6,6,"div",14),i()),n&2){let e=f(2);b(w(3,ye)),l(),m("ngForOf",e.uploadedFiles)}}function Ee(n,d){if(n&1){let e=y();t(0,"div",6),g("click",function(){c(e),f();let o=E(3);return u(o.advancedFileInput.nativeElement.click())}),v(1,be,6,0,"div",7)(2,Ce,2,4,"div",8),i()}if(n&2){let e=f();l(),m("ngIf",!e.uploadedFiles.length),l(),m("ngIf",e.uploadedFiles.length)}}var pe=(()=>{class n{messageService;uploadedFiles=[];buttonEl;constructor(e){this.messageService=e}onUpload(e){for(let r of e.files)this.uploadedFiles.push(r);this.messageService.add({severity:"success",summary:"Success",detail:"File uploaded successfully"})}onImageMouseOver(e){this.buttonEl.toArray().forEach(r=>{r.nativeElement.id===e.name&&(r.nativeElement.style.display="flex")})}onImageMouseLeave(e){this.buttonEl.toArray().forEach(r=>{r.nativeElement.id===e.name&&(r.nativeElement.style.display="none")})}removeImage(e,r){e.stopPropagation(),this.uploadedFiles=this.uploadedFiles.filter(o=>o!==r)}static \u0275fac=function(r){return new(r||n)(S(M))};static \u0275cmp=C({type:n,selectors:[["app-file-uploader"]],viewQuery:function(r,o){if(r&1&&D(he,5),r&2){let a;z(a=$())&&(o.buttonEl=a)}},features:[F([M])],decls:6,vars:5,consts:[["fileUploader",""],["content",""],["buttonEl",""],["key","fu"],[1,"card"],["name","demo[]","url","https://www.primefaces.org/cdn/api/upload.php","accept","image/*",1,"upload-button-hidden","w-full",3,"onUpload","onSelect","customUpload","multiple","showUploadButton","showCancelButton","auto"],[1,"w-full","py-4",2,"cursor","copy",3,"click"],["class","h-full flex flex-col justify-center items-center",4,"ngIf"],["class","w-full py-4",3,"style",4,"ngIf"],[1,"h-full","flex","flex-col","justify-center","items-center"],[1,"pi","pi-upload","text-surface-900","dark:text-surface-0","text-2xl","mb-4"],[1,"font-bold","text-surface-900","dark:text-surface-0","text-xl","mb-4"],[1,"font-medium","text-surface-600","dark:text-surface-200","text-md","text-center"],[1,"w-full","py-4"],["class","flex flex-wrap gap-8","style","padding: 1px;",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","gap-8",2,"padding","1px",3,"mouseenter","mouseleave"],[1,"remove-file-wrapper","relative","w-28","h-28","border-4","border-transparent","rounded","hover:bg-primary","hover:text-primary-contrast","duration-100","cursor-auto"],[1,"w-full","h-full","rounded","shadow",3,"src","alt"],["pButton","","pRipple","","rounded","","type","button",1,"remove-button","text-sm","absolute","justify-center","items-center","cursor-pointer",2,"top","-10px","right","-10px","display","none",3,"click","id"],["pButtonIcon","",1,"pi","pi-times"]],template:function(r,o){if(r&1){let a=y();s(0,"p-toast",3),t(1,"div",4)(2,"p-fileupload",5,0),g("onUpload",function(h){return c(a),u(o.onUpload(h))})("onSelect",function(h){return c(a),u(o.onUpload(h))}),v(4,Ee,3,2,"ng-template",null,1,A),i()()}r&2&&(l(2),m("customUpload",!0)("multiple",!0)("showUploadButton",!0)("showCancelButton",!1)("auto",!0))},dependencies:[re,ne,ie,te,I,U,N,V,T,X],styles:["[_nghost-%COMP%]     .p-fileupload-header{display:none}[_nghost-%COMP%]     .p-fileupload{border:none}[_nghost-%COMP%]     .p-fileupload-file-list{display:none}"]})}return n})();var Fe=()=>({width:"200px"});function Ue(n,d){if(n&1){let e=y();t(0,"div",28)(1,"div",29)(2,"div",30)(3,"span",31),p(4),i(),t(5,"div")(6,"button",32),g("click",function(o){c(e);let a=E(8);return u(a.toggle(o))}),i(),s(7,"p-menu",33,1),i()(),t(9,"div")(10,"div",34),s(11,"div",35),i(),t(12,"div",36)(13,"span",37),p(14),i(),t(15,"span",37),p(16),i()()()()()}if(n&2){let e=d.$implicit,r=f();l(4),x(e.title),l(2),m("icon",e.icon),l(),m("popup",!0)("model",r.menuitems),l(3),m("ngClass",e.color),l(),m("ngClass",e.fieldColor),l(3),x(e.files),l(2),x(e.fileSize)}}function Ie(n,d){if(n&1&&(t(0,"div",38)(1,"div",39)(2,"div",14),s(3,"i",40),t(4,"span",41),p(5),i()(),t(6,"span",42),p(7),i()()()),n&2){let e=d.$implicit;l(3),m("ngClass",e.icon),l(2),x(e.name),l(2),x(e.size)}}function Me(n,d){n&1&&(t(0,"tr")(1,"th",43)(2,"span",44),p(3,"Name "),s(4,"p-sortIcon",45),i()(),t(5,"th",46)(6,"span",44),p(7,"Date "),s(8,"p-sortIcon",47),i()(),t(9,"th",48)(10,"span",44),p(11,"File Size "),s(12,"p-sortIcon",49),i()(),s(13,"th",50),i())}function Te(n,d){if(n&1&&(t(0,"tr")(1,"td")(2,"div",14),s(3,"i"),t(4,"span"),p(5),i()()(),t(6,"td")(7,"span"),p(8),i()(),t(9,"td")(10,"span"),p(11),i()(),t(12,"td",51),s(13,"button",52)(14,"button",53),i()()),n&2){let e=d.$implicit;l(3),R("text-xl text-primary mr-2 "+e.icon),l(2),x(e.name),l(3),x(e.date),l(3),x(e.fileSize)}}var et=(()=>{class n{fileService;layoutService;fileChart;fileChartOptions;chartPlugins;files=[];metrics=[];folders=[];menuitems=[];subscription;constructor(e,r){this.fileService=e,this.layoutService=r,this.subscription=this.layoutService.configUpdate$.subscribe(o=>{this.initChart()})}ngOnInit(){this.fileService.getFiles().then(e=>this.files=e),this.fileService.getMetrics().then(e=>this.metrics=e),this.fileService.getFoldersLarge().then(e=>this.folders=e),this.initChart(),this.menuitems=[{label:"View",icon:"pi pi-search"},{label:"Refresh",icon:"pi pi-refresh"}]}initChart(){let e=getComputedStyle(document.documentElement),r=e.getPropertyValue("--text-color");this.chartPlugins=[{beforeDraw:function(o){let a=o.ctx,_=o.width,h=o.height,se=1.5,me=a.fillStyle;a.restore(),a.font=se+"rem sans-serif",a.textBaseline="middle";let j="Free Space",de="50GB / 80GB",ce=Math.round((_-a.measureText(j).width)/2),ue=(h+o.chartArea.top)/2.25,fe=Math.round((_-a.measureText(j).width)/2.1),xe=(h+o.chartArea.top)/1.75;a.fillStyle=o.config.data.datasets[0].backgroundColor[0],a.fillText(j,ce,ue),a.fillText(de,fe,xe),a.fillStyle=me,a.save()}}],this.fileChart={datasets:[{data:[300,100],backgroundColor:[e.getPropertyValue("--p-primary-600"),e.getPropertyValue("--p-primary-100")],hoverBackgroundColor:[e.getPropertyValue("--p-primary-700"),e.getPropertyValue("--p-primary-200")],borderColor:"transparent",fill:!0}]},this.fileChartOptions={animation:{duration:0},cutout:"90%",plugins:{legend:{labels:{color:r}}}}}static \u0275fac=function(r){return new(r||n)(S(k),S(q))};static \u0275cmp=C({type:n,selectors:[["app-files"]],features:[F([k])],decls:51,vars:11,consts:[["dt",""],["menu",""],[1,"grid","grid-cols-12","gap-4"],["class","col-span-12 md:col-span-6 lg:col-span-3",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-5","xl:col-span-3"],[1,"card"],[1,"text-surface-900","dark:text-surface-0","text-xl","font-semibold","mb-4"],[1,"flex","flex-row","justify-center",2,"height","200px"],["type","doughnut","id","country-chart",3,"plugins","data","options"],[1,"mt-8","flex","gap-4"],["pButton","","pRipple","","icon","pi pi-search","outlined","","label","Details",1,"flex-1"],["pButton","","pRipple","","icon","pi pi-upload","label","Upgrade",1,"flex-1"],[1,"list-none","p-0","m-0"],[1,"p-4","mb-4","flex","items-center","justify-between","cursor-pointer","rounded","bg-indigo-50","text-indigo-900"],[1,"flex","items-center"],[1,"pi","pi-image","text-2xl","mr-4"],[1,"text-lg","font-medium"],[1,"text-lg","font-bold"],[1,"p-4","mb-4","flex","items-center","justify-between","cursor-pointer","rounded","bg-purple-50","text-purple-900"],[1,"pi","pi-file","text-2xl","mr-4"],[1,"p-4","flex","items-center","justify-between","cursor-pointer","rounded","bg-teal-50","text-teal-900"],[1,"pi","pi-video","text-2xl","mr-4"],[1,"card","!p-0"],[1,"col-span-12","md:col-span-7","xl:col-span-9"],["class","col-span-12 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],["responsiveLayout","scroll",3,"value","rows","paginator"],["pTemplate","header"],["pTemplate","body"],[1,"col-span-12","md:col-span-6","lg:col-span-3"],[1,"card","h-full"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-surface-900","dark:text-surface-0","text-xl","font-semibold"],["pButton","","pRipple","","text","","rounded","","size","small",3,"click","icon"],["appendTo","body",3,"popup","model"],[1,"rounded",2,"height","6px",3,"ngClass"],[1,"!h-full","rounded",2,"width","34%",3,"ngClass"],[1,"flex","align-item-center","justify-between"],[1,"text-surface-900","dark:text-surface-0","mt-4","text-md","font-medium"],[1,"col-span-12","md:col-span-6","xl:col-span-4"],[1,"p-4","border","border-surface-200","dark:border-surface-700","flex","items-center","justify-between","hover:bg-surface-100","dark:hover:bg-surface-700","cursor-pointer","rounded"],[1,"text-2xl","mr-4",3,"ngClass"],[1,"text-surface-900","dark:text-surface-0","text-lg","font-medium"],[1,"text-surface-600","dark:text-surface-200","text-lg","font-semibold"],["pSortableColumn","name",1,"white-space-nowrap",2,"min-width","12rem"],[1,"flex","items-center","gap-2"],["field","name"],["pSortableColumn","date",1,"white-space-nowrap",2,"min-width","12rem"],["field","date"],["pSortableColumn","fileSize",1,"white-space-nowrap",2,"min-width","12rem"],["field","fileSize"],[2,"width","10rem"],[1,"text-center"],["pButton","","pRipple","","text","","rounded","","icon","pi pi-times","severity","danger",1,"mr-2"],["pButton","","pRipple","","text","","rounded","","icon","pi pi-search"]],template:function(r,o){r&1&&(t(0,"div",2),v(1,Ue,17,8,"div",3),t(2,"div",4)(3,"div",5)(4,"div",6),p(5,"Account Storage"),i(),t(6,"div",7),s(7,"p-chart",8),i(),t(8,"div",9),s(9,"button",10)(10,"button",11),i()(),t(11,"div",5)(12,"div",6),p(13,"Categories"),i(),t(14,"ul",12)(15,"li",13)(16,"div",14),s(17,"i",15),t(18,"span",16),p(19,"Images"),i()(),t(20,"span",17),p(21,"85"),i()(),t(22,"li",18)(23,"div",14),s(24,"i",19),t(25,"span",16),p(26,"Documents"),i()(),t(27,"span",17),p(28,"231"),i()(),t(29,"li",20)(30,"div",14),s(31,"i",21),t(32,"span",16),p(33,"Videos"),i()(),t(34,"span",17),p(35,"40"),i()()()(),t(36,"div",22),s(37,"app-file-uploader"),i()(),t(38,"div",23)(39,"div",5)(40,"div",6),p(41,"Folders"),i(),t(42,"div",2),v(43,Ie,8,3,"div",24),i()(),t(44,"div",5)(45,"div",6),p(46,"Recent Uploads"),i(),t(47,"p-table",25,0),v(49,Me,14,0,"ng-template",26)(50,Te,15,5,"ng-template",27),i()()()()),r&2&&(l(),m("ngForOf",o.metrics),l(6),b(w(10,Fe)),m("plugins",o.chartPlugins)("data",o.fileChart)("options",o.fileChartOptions),l(36),m("ngForOf",o.folders),l(4),m("value",o.files)("rows",8)("paginator",!0))},dependencies:[I,L,U,le,oe,G,Y,V,ee,Z,W,H,J,K,pe,T],encapsulation:2})}return n})();export{et as Files};
